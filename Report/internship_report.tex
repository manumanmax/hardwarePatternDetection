\documentclass[english,a4paper,11pt]{report}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\PassOptionsToPackage{english}{babel}
\usepackage{graphicx}
\usepackage{fullpage}
\usepackage{eso-pic}
\usepackage{cite}
\usepackage{wrapfig}
\usepackage{url}
\usepackage[english]{babel}
\usepackage{fancyhdr}
\usepackage{hyperref}
\usepackage{listings}

\usepackage[lastpage,user]{zref}
\cfoot{\thepage\ of \zpageref{LastPage}}
\pagestyle{fancy}
\usepackage[headsep=1cm,headheight=61pt,footskip=3cm]{geometry}


\newcommand{\HRule}{\rule{\linewidth}{0.5mm}}
 \newcommand{\ts}{\textsuperscript}
\newcommand{\blap}[1]{\vbox to 0pt{#1\vss}}
\newcommand\AtUpperLeftCorner[3]{%
  \put(\LenToUnit{#1},\LenToUnit{\dimexpr\paperheight-#2}){\blap{#3}}%
}
\newcommand\AtUpperRightCorner[3]{%
  \put(\LenToUnit{\dimexpr\paperwidth-#1},\LenToUnit{\dimexpr\paperheight-#2}){\blap{\llap{#3}}}%
}
\newcommand\AtLowerRightCorner[3]{%
  \put(\LenToUnit{\dimexpr\paperwidth-#1},\LenToUnit{#2}){#3}%
}
 
\title{\LARGE{Internship report pattern recognition UNISA Italy}}
\author{\textsc{Breton-Belz} Emmanuel - 2\ts{nd} Year Internship}
\date{\today}
\makeatletter

\renewcommand{\headrulewidth}{1pt}
\fancyhead[C]{\@author} 
\fancyhead[L]{\leftmark}
\fancyhead[R]{\includegraphics[width=2cm]{images_not_compressed/unisaLogo.jpg}}
\fancyhead[L]{{\includegraphics[width=2cm]{images_not_compressed/ensiLogo.jpg}}}
\addto\captionsenglish{
  \renewcommand{\contentsname}
    {Table of contents}
}
\renewcommand{\footrulewidth}{1pt}
\fancyfoot[R]{\leftmark}
		 
\begin{document}
	\setcounter{tocdepth}{4}
	\begin{titlepage}
	    \AddToShipoutPicture{%
	      \AtUpperLeftCorner{1.5cm}{1cm}{\includegraphics[width=4cm]{images_not_compressed/unisaLogo.jpg}}
	      \AtUpperRightCorner{1.5cm}{1cm}{\includegraphics[width=6.5cm]{images_not_compressed/ensiLogo.jpg}}
	      \AtLowerRightCorner{8cm}{3.5cm}{\parbox{7cm}{ENSICAEN \\
	        6, boulevard Maréchal Juin 
	        \\CS  45 053 – F- 14050 Caen Cedex 4\\
	        Tél. +33 (0)2 31 45 27 50\\
	        Fax +33 (0)2 31 45 27 60}} 
	    }
	 
	\begin{center}
	        \vspace*{10cm}
	        \textsc{\@title}
	        \HRule
	        \vspace*{0.5cm}
	        \large{\@author} 
	 \end{center}
 
    \vspace*{5cm}
    \begin{center}
      \makebox[\textwidth]{\includegraphics[width=\paperwidth]{images_not_compressed/uneGrandeEcole.png}}
    \end{center}
	
	\end{titlepage}
	\ClearShipoutPicture
	
	\input{thanks}
	
	\setcounter{secnumdepth}{2}
	\setcounter{tocdepth}{2}
	
	\tableofcontents
	\newpage
	
	\setcounter{page}{1}
	
	\input{introduction}
	
	
	
	\input{MIVIA_Lab}
	
	\input{work_to_do}
	\input{study}
	
	\input{work_done}
	
	
	\input{conclusion}

	\clearpage

	\bibliography{/home/manu/workspace/Scanner/Report/biblio_internship}{}
	\bibliographystyle{plain}

	\chapter{Annexes}
	
	\begin{itemize}
	\item
		\hypertarget{opencv}{\textbf{OpenCV tutorial :\\}}	\url{http://docs.opencv.org/doc/tutorials/features2d/feature_homography/feature_homography.html#feature-homography}\\

	\item
	\hypertarget{structDMatch}{\textbf{Code of the DMatch Structure :}}
	\begin{lstlisting}
struct DMatch
{
    DMatch() : queryIdx(-1), trainIdx(-1), imgIdx(-1),
               distance(std::numeric_limits<float>::max()) {}
    DMatch( int _queryIdx, int _trainIdx, float _distance ) :
            queryIdx(_queryIdx), trainIdx(_trainIdx), imgIdx(-1),
            distance(_distance) {}
    DMatch( int _queryIdx, int _trainIdx, int _imgIdx, float _distance ) :
            queryIdx(_queryIdx), trainIdx(_trainIdx), imgIdx(_imgIdx),
            distance(_distance) {}

    int queryIdx; // query descriptor index
    int trainIdx; // train descriptor index
    int imgIdx;   // train image index

    float distance;

    // less is better
    bool operator<( const DMatch &m ) const;
};
	\end{lstlisting}	
	
\end{itemize}		
	


	\listoffigures
		
	
	
	
	\input{summary}


	\par My internship took place in Fisciano, a little city at 15km of Salerno and 35km South of Napoli in Italia. I was working for the MIVIA laboratory : Macchine Intelligenti per il riconoscimento di Video, Immagini e Media. Which means intelligent machines for video, images and media recognition. They currently work for multinationnal companies to start-ups, they are specialised in computer vision and automatism. That is why they often work with drones and robots.
	\par My first project consisted in gather information about the Motorola HC1 Helmet which is used by companies to provide hands free communication on the field. Then I had to replace the Windows CE operating system for a Linux. I tryed a lot of things but without the references of the components and the skills to erase Windows CE. I could not achieve this task.
	\par After three weeks working on the helmet, I finally switched on another project. A project that feeted more with my skills because I had to implement an image analisis algorithm based on OpenCV. I had to extract patterns on images. The main difficulty of this project was that the pattern could appear several times on the image and they were several patterns to be found each time. This project is a step of a bigger project that pretend to simplify the maintenance manuals by simply scan the machin you want to repare. Because the manuals are often big and a little part of the information concern your machin. The result of the analyse should pop a manual in pdf gathering only the information you need.
	\par I learned about OpenCV and tested code before I really worked on the project. The first version of the algorithm was not satifsaying the need so I restarted from zero. Using what I already done, I easily surpassed the previous algorithm with a new matching system and a strictness in organisation. I made a github : \url{https://github.com/manumanmax/hardwarePatternDetection} and I was often reporting with my superior Pierluigi.
	\par I finally succeed in my task by suppressing the points representing each pattern when I found one, thresholding the matcher and gathering the in a structure. Then Pierluigi asked me to realise a video to showcase how the allgorithm works.
	
	\par I acquired lots of skills in computer sciences but also in embedded system, english and I leard a little bit of italian. At school I made 3 internships and this one was the most interessant and relevent. I really enjoyed it because both the place and the work was great.
	
	
	
\end{document}