\documentclass[english,a4paper,11pt]{report}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\PassOptionsToPackage{english}{babel}
\usepackage{graphicx}
\usepackage{fullpage}
\usepackage{eso-pic}
\usepackage{cite}
\usepackage{wrapfig}
\usepackage{url}
\usepackage[english]{babel}
\usepackage{fancyhdr}
\usepackage{hyperref}
\usepackage{listings}

\usepackage[lastpage,user]{zref}
\cfoot{\thepage\ of \zpageref{LastPage}}
\pagestyle{fancy}
\usepackage[headsep=1cm,headheight=61pt,footskip=3cm]{geometry}


\newcommand{\HRule}{\rule{\linewidth}{0.5mm}}
 \newcommand{\ts}{\textsuperscript}
\newcommand{\blap}[1]{\vbox to 0pt{#1\vss}}
\newcommand\AtUpperLeftCorner[3]{%
  \put(\LenToUnit{#1},\LenToUnit{\dimexpr\paperheight-#2}){\blap{#3}}%
}
\newcommand\AtUpperRightCorner[3]{%
  \put(\LenToUnit{\dimexpr\paperwidth-#1},\LenToUnit{\dimexpr\paperheight-#2}){\blap{\llap{#3}}}%
}
\newcommand\AtLowerRightCorner[3]{%
  \put(\LenToUnit{\dimexpr\paperwidth-#1},\LenToUnit{#2}){#3}%
}
 
\title{\LARGE{Internship report pattern recognition UNISA Italy}}
\author{2\ts{nd} Year Internship}
\date{\today}
\makeatletter

\renewcommand{\headrulewidth}{1pt}
\fancyhead[C]{\@author} 
\fancyhead[L]{\leftmark}
\fancyhead[R]{\includegraphics[width=2cm]{images_not_compressed/unisaLogo.jpg}}
\fancyhead[L]{{\includegraphics[width=2cm]{images_not_compressed/ensiLogo.jpg}}}
\addto\captionsenglish{
  \renewcommand{\contentsname}
    {Table of contents}
}
\renewcommand{\footrulewidth}{1pt}
\fancyfoot[R]{\leftmark}
		 
\begin{document}
	\setcounter{tocdepth}{4}
	\begin{titlepage}
	    \AddToShipoutPicture{%
	      \AtUpperLeftCorner{1.5cm}{1cm}{\includegraphics[width=4cm]{images_not_compressed/unisaLogo.jpg}}
	      \AtUpperRightCorner{1.5cm}{1cm}{\includegraphics[width=6.5cm]{images_not_compressed/ensiLogo.jpg}}
	      \AtLowerRightCorner{8cm}{3.5cm}{\parbox{7cm}{ENSICAEN \\
	        6, boulevard Maréchal Juin 
	        \\CS  45 053 – F- 14050 Caen Cedex 4\\
	        Tél. +33 (0)2 31 45 27 50\\
	        Fax +33 (0)2 31 45 27 60}} 
	    }
	 
	\begin{center}
	        \vspace*{10cm}
	        \textsc{\@title}
	        \HRule
	        \vspace*{0.5cm}
	        \large{\@author} 
	 \end{center}
	 \begin{flushleft}
	 \vspace*{2cm}
	 \hspace{8cm}
	 - Emmanuel Breton-Belz\\
	 \hspace{8cm}
	 - 2\ts{nd} year Computer science / IMAGE\\
	 \hspace{8cm}
	 - University year 2014-2015\\
	 \hspace{8cm}
	 - UNISA supervisor : Mario Vento\\
	 \hspace{8cm}
	 - ENSICAEN supervisor : Luc Brun
	 
	 \end{flushleft}
 
    \begin{center}
      \makebox[\textwidth]{\includegraphics[width=\paperwidth]{images_not_compressed/uneGrandeEcole.png}}
    \end{center}
	
	\end{titlepage}
	\ClearShipoutPicture
	
	\input{thanks}
	
	\setcounter{secnumdepth}{2}
	\setcounter{tocdepth}{2}
	
	\tableofcontents
	\newpage
	
	\setcounter{page}{1}
	
	\input{introduction}
	
	
	
	\input{MIVIA_Lab}
	
	\input{work_to_do}
	\input{study}
	
	\input{work_done}
	
	
	\input{conclusion}

	\clearpage

	\bibliography{C:/Users/Emmanuel/Documents/GitHub/hardwarePatternDetection/Report/biblio_internship}{}
	\bibliographystyle{plain}

	\chapter{Annexes}
	
	\begin{itemize}
	\item
		\hypertarget{opencv}{\textbf{OpenCV tutorial :\\}}	\url{http://docs.opencv.org/doc/tutorials/features2d/feature_homography/feature_homography.html#feature-homography}\\

	\item
	\hypertarget{structDMatch}{\textbf{Code of the DMatch Structure :}}
	\label{struct}
	\begin{lstlisting}
struct DMatch
{
    DMatch() : queryIdx(-1), trainIdx(-1), imgIdx(-1),
               distance(std::numeric_limits<float>::max()) {}
    DMatch( int _queryIdx, int _trainIdx, float _distance ) :
            queryIdx(_queryIdx), trainIdx(_trainIdx), imgIdx(-1),
            distance(_distance) {}
    DMatch( int _queryIdx, int _trainIdx, int _imgIdx, float _distance ) :
            queryIdx(_queryIdx), trainIdx(_trainIdx), imgIdx(_imgIdx),
            distance(_distance) {}

    int queryIdx; // query descriptor index
    int trainIdx; // train descriptor index
    int imgIdx;   // train image index

    float distance;

    // less is better
    bool operator<( const DMatch &m ) const;
};
	\end{lstlisting}	
	
\end{itemize}		
	


	\listoffigures
		
	\newpage

\Large{Summary}
\vspace{5pt}
\normalsize
	\par My internship took place in Fisciano, a little city at 15km of Salerno and 35km South of Napoli in Italia. I was working in the MIVIA laboratory. They currently work for multinational companies to startups, they are specialized in computer vision and automatism. That is why they often work with drones and robots.
	\par My first project consisted in gathering information about the Motorola HC1 Helmet. Then I had to replace the Windows CE operating system for a Linux.
	\par After three weeks working on the helmet, I finally switched to another project because of the lack of informations about the helmet. I had to extract patterns on images using OpenCV. The pattern could appear several times on the image and they were several patterns to be found each time. This project is a step of a bigger project called WISCH turning around pattern recognition. I often reported with my superior Pierluigi.
	\par I finally succeed in my task of suppressing the points representing each pattern when I found one, threshold the matcher and gathering the in a structure. Then, Pierluigi asked me to create a video to showcase how the algorithm works.
	\par I really enjoyed my internship because both the place and the work were great.
	
	\vspace{1cm}
	\Large{Résumé}
\vspace{5pt}
\normalsize
	\par J\rq{}ai fais mon stage à Fisciano, une petite ville située entre Salerne et Naples en Italie. Je travaillais pour le MIVIA Lab. Ils travaillent pour des entreprises de la multinationale à la start-up et ils sont spécialisés dans la vision assistée par ordinateur et l\rq{}automatisation. Voilà pourquoi on peut les voir travailler avec des robots ou des drônes.
	\par Mon premier projet consistait à rassembler des informations concernant le casque Motorola HC1. Ensuite, je devais remplacer Windows CE (son système d\rq{}exploitation) par Linux.
	\par Après ça, j\rq{}ai changer de sujet du fait que je n\rq{}avait pas accès à suffisamment d\rq{}informations. J\rq{}ai alors travaillé à l\rq{}extraction de patrons (images) dans une image en utilisant OpenCV. Chaque patron pouvait apparaitre plusieurs fois et ils y avait plusieurs patrons à reconnaître dans chaque image. Ce projet  s\rq{}incrit dans le cadre d\rq{}un projet nommé WISCH qui tourne autour de la détection de patrons.
	\par J\rq{}ai souvent contacté Pierluigi, mon supérieur, afin qu\rq{}il vérifie ma progression.
	\par Finalement, j\rq{}ai obtenu le résultat recherché, en supprimant les points d\rq{}intérêt qui appartenaient au dernier patron trouvé, en appliquant un seuil au matcher et en rassemblant le résultat dans une structure. Enfin, Pierluigi m\rq{}a demandé de concevoir une courte vidéo de mon travail pour faire des démonstrations.
	\par J\rq{}ai vraiment adoré mon stage car le lieu et le travail étaient tous deux aussi agréables. 
	
	
	
\end{document}